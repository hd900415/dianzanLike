/* 橘子科技旗下 A4源码  https://an4.net 搭建二开联系 QQ 3479863005  纸飞机联系 @orangetech */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fd34ccf"],{"1ec5":function(t,s,a){"use strict";var i=a("d45e"),e=a.n(i);e.a},d45e:function(t,s,a){},ec0f:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"PageBox"},[a("div",{staticClass:"ScrollBox"},[a("van-tabs",{attrs:{ellipsis:!1,border:!1,color:"#4087f1","title-active-color":"#4087f1",background:"#151d31","title-inactive-color":"#bbb","line-width":"60"},on:{change:t.changeTabs},model:{value:t.tabsIndex,callback:function(s){t.tabsIndex=s},expression:"tabsIndex"}},t._l(t.InitData.taskclasslist.filter((function(t){return 1==t.state})),(function(s){return a("van-tab",{key:s.group_id,attrs:{title:s.group_name}},[a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isRefresh,callback:function(s){t.isRefresh=s},expression:"isRefresh"}},[a("van-list",{class:{Empty:!t.listData[t.tabsIndex].length},attrs:{finished:t.isFinished,"finished-text":t.listData[t.tabsIndex].length?t.$t("vanPull[0]"):t.$t("vanPull[1]")},on:{load:t.onLoad},model:{value:t.isLoad,callback:function(s){t.isLoad=s},expression:"isLoad"}},t._l(t.listData[t.tabsIndex],(function(s){return a("div",{key:s.task_id,staticClass:"TaskItem"},[a("van-cell",{attrs:{border:!1,"title-class":"post"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",[t._v(t._s(s.title))]),a("p",[a("span",[t._v(t._s(t.$t("postRecord[2]"))+":"),a("em",[t._v(t._s(s.total_number))])]),a("span",[t._v(t._s(t.$t("postRecord[3]"))+":"),a("em",[t._v(t._s(Number(s.total_number)-Number(s.surplus_number)))])])]),a("p",[t._v(t._s(t.$t("postRecord[4]"))+":"+t._s(s.end_time))])]},proxy:!0}],null,!0)},[a("div",{staticClass:"icon",attrs:{slot:"icon"},slot:"icon"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return a.stopPropagation(),t.$Util.OpenUrl(s.link_info)}}},[a("img",{attrs:{src:s.icon}})]),a("van-tag",{attrs:{type:"primary"}},[t._v(t._s(s.vip_dec))])],1),a("p",{class:"state"+s.status},[t._v(t._s(s.status_dec))]),t._v(" "+t._s(t.InitData.currency)),a("b",[t._v(t._s(Number(s.reward_price)))])]),2!=s.status&&5!=s.status?a("div",{staticClass:"button"},[3==s.status?a("van-button",{attrs:{type:"info",round:"",size:"mini"},on:{click:function(a){return t.$router.push("/user/auditRecord?taskId="+s.task_id)}}},[t._v(t._s(t.$t("postRecord[5]")))]):t._e(),1==s.status?a("van-button",{attrs:{round:"",size:"mini"},on:{click:function(a){return t.cancelTask(s.task_id)}}},[t._v(t._s(t.$t("postRecord[6]")))]):t._e(),1==s.status?a("van-button",{attrs:{type:"info",round:"",size:"mini"},on:{click:function(a){return t.$router.push("/user/postTask/"+s.task_id)}}},[t._v(t._s(t.$t("postRecord[7]")))]):t._e()],1):t._e()],1)})),0)],1)],1)})),1)],1)])},e=[],n={name:"PostRecord",components:{},props:["taskType"],data(){return{listData:"",isLoad:!1,isFinished:!1,isRefresh:!1,pageNo:1,taskGroupId:"",tabsIndex:0,isStore:!1}},computed:{},watch:{$route(){this.initData(this.InitData.taskclasslist.filter(t=>1==t.state))}},created(){this.$parent.navBarTitle=this.$t("postRecord[0]"),this.listData=this.InitData.taskclasslist.filter(t=>1==t.state).flatMap(t=>[""]),this.InitData.taskclasslist.length&&this.initData(this.InitData.taskclasslist.filter(t=>1==t.state))},mounted(){},activated(){},destroyed(){},methods:{initData(t){this.taskType?(this.tabsIndex=t.findIndex(t=>t.group_id==this.taskType),this.taskGroupId=this.taskType):(this.tabsIndex=0,this.taskGroupId=t[0].group_id),this.getListData("init")},onLoad(){this.getListData("load")},changeTabs(t){this.taskGroupId=this.InitData.taskclasslist.filter(t=>1==t.state)[t].group_id,this.$router.push("/user/postRecord/"+this.taskGroupId)},getListData(t){this.isLoad=!0,this.isRefresh=!1,"load"==t?this.pageNo+=1:(this.pageNo=1,this.isFinished=!1),this.$Model.GetTaskList({group_id:this.taskGroupId,page_no:this.pageNo,is_u:1},s=>{this.isLoad=!1,1==s.code?(this.listData[this.tabsIndex]="load"==t?this.listData[this.tabsIndex].concat(s.info):s.info,this.pageNo==s.data_total_page?this.isFinished=!0:this.isFinished=!1):(this.listData[this.tabsIndex]="",this.isFinished=!0)})},onRefresh(){this.getListData("init")},auditTask(){},cancelTask(t){this.$Model.CancelTask(t,t=>{1==t.code&&this.getListData("init")})}}},o=n,r=(a("1ec5"),a("2877")),l=Object(r["a"])(o,i,e,!1,null,"526f61c5",null);s["default"]=l.exports}}]);
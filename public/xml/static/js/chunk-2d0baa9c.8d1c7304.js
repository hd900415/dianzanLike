/* 橘子科技旗下 A4源码  https://an4.net 搭建二开联系 QQ 3479863005  纸飞机联系 @orangetech */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0baa9c"],{"37bd":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Main Background"},[i("transition",{attrs:{name:t.animateType}},[t.showSet?i("SetSetting",{attrs:{setType:t.setType},on:{onCloseSet:t.onCloseSet}}):i("div",{staticClass:"Animate"},[i("van-nav-bar",{staticClass:"NavBar",attrs:{title:"设置",border:!1},on:{"click-left":t.onClickBack}},[i("img",{staticClass:"icon-left",attrs:{slot:"left",src:"./static/miliao/icon/icon-back.svg"},slot:"left"})]),i("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[i("div",{staticClass:"Scroll-Con"},[i("div",{staticClass:"UserInfo"},[i("van-cell",{attrs:{title:"新消息通知",size:"large","is-link":""},on:{click:function(e){t.showSet=!0,t.setType="newmsg",t.animateType="open"}}}),i("van-cell",{attrs:{title:"存储空间",size:"large","is-link":""},on:{click:function(e){t.showSet=!0,t.setType="storage",t.animateType="open"}}})],1)])])],1)],1)],1)},o=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Animate Background"},[i("van-nav-bar",{staticClass:"NavBar",attrs:{title:"newmsg"==t.setType?"新消息通知":"private"==t.setType?"隐私设置":"存储空间",border:!1},on:{"click-left":t.onClickBack}},[i("img",{staticClass:"icon-left",attrs:{slot:"left",src:"./static/miliao/icon/icon-back.svg"},slot:"left"})]),i("div",{staticClass:"UserInfo"},["newmsg"==t.setType?i("van-cell-group",[i("van-switch-cell",{attrs:{title:"声音",size:"26px","active-color":"#44db5e"},on:{change:function(e){return t.onChangeSwitch("voice")}},model:{value:t.isVoice,callback:function(e){t.isVoice=e},expression:"isVoice"}})],1):"private"==t.setType?i("van-cell-group",[i("van-switch-cell",{attrs:{title:"加我为好友时需要验证",size:"26px","active-color":"#44db5e"},on:{change:function(e){return t.onChangeSwitch("validate")}},model:{value:t.isFriendCheck,callback:function(e){t.isFriendCheck=e},expression:"isFriendCheck"}}),i("van-switch-cell",{attrs:{title:"允许通过密聊号找到我",size:"26px","active-color":"#44db5e"},on:{change:function(e){return t.onChangeSwitch("mid")}},model:{value:t.isAllowMid,callback:function(e){t.isAllowMid=e},expression:"isAllowMid"}}),i("van-switch-cell",{attrs:{title:"允许好友邀请我加群",size:"26px","active-color":"#44db5e"},on:{change:function(e){return t.onChangeSwitch("invite")}},model:{value:t.isAllowGroup,callback:function(e){t.isAllowGroup=e},expression:"isAllowGroup"}})],1):"storage"==t.setType?i("van-cell",{staticStyle:{"text-align":"center"},attrs:{title:"清空密聊缓存",size:"large"},on:{click:t.onClearCache}}):t._e()],1)],1)},a=[],n={name:"SetSetting",components:{},props:{setType:{type:String,default:""}},data(){return{isVoice:!1,isFriendCheck:!1,isAllowMid:!1,isAllowGroup:!1}},computed:{},watch:{},created(){this.isVoice=!!this.MiUserInfo.is_v_d,this.isFriendCheck=!!this.MiUserInfo.is_f_d,this.isAllowMid=!!this.MiUserInfo.is_m_d,this.isAllowGroup=!!this.MiUserInfo.is_g_d},mounted(){},activated(){},destroyed(){},methods:{onClickBack(){this.$emit("onCloseSet")},onChangeSwitch(t){var e={};"voice"==t&&(e.is_v_d=this.isVoice?1:0),"validate"==t&&(e.is_f_d=this.isFriendCheck?1:0),"mid"==t&&(e.is_m_d=this.isAllowMid?1:0),"invite"==t&&(e.is_g_d=this.isAllowGroup?1:0),this.$MiModel.SetUserInfo(e,e=>{e||("voice"==t&&(this.isVoice=!!this.MiUserInfo.is_v_d),"validate"==t&&(this.isFriendCheck=!!this.MiUserInfo.is_f_d),"mid"==t&&(this.isAllowMid=!!this.MiUserInfo.is_m_d),"invite"==t&&(this.isAllowGroup=!!this.MiUserInfo.is_g_d))})},onClearCache(){this.$MiDialog.Confirm("将删除密聊所有缓存。",()=>{localStorage.removeItem("ChatData")})}}},c=n,r=i("2877"),d=Object(r["a"])(c,l,a,!1,null,null,null),h=d.exports,p={name:"Setting",components:{SetSetting:h},props:{},data(){return{showSet:!1,setType:"",animateType:"open"}},computed:{},watch:{},created(){},mounted(){this.$MiInitial.InitScrollWrap(this.$el),this.ScrollWrap=new this.$MiBScroll(this.$refs.Scroll,{click:!0})},activated(){},destroyed(){},methods:{onClickBack(){this.$router.go(-1),this.$route.params.isBack=!0},onCloseSet(){this.animateType="close",this.showSet=!1},loginOut(){this.$MiModel.Logout(t=>{this.$router.replace("/miliao")})}}},u=p,v=Object(r["a"])(u,s,o,!1,null,null,null);e["default"]=v.exports}}]);
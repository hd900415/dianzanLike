/* 橘子科技旗下 A4源码  https://an4.net 搭建二开联系 QQ 3479863005  纸飞机联系 @orangetech */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b739e5a"],{6198:function(e,t,a){"use strict";(function(e){t["a"]={name:"Recharge",components:{},props:["rechargeId"],data(){return{amountMoney:this.$route.query.amount||"",postData:{money:this.$route.query.amount||"",recharge_id:"",name:""},rechargeList:"",pickerList:"",showPicker:!1,isSubmit:!1,rechargeData:"",rechargeInfo:"",showPrice:!1,pickerName:"",jumpData:{result:{bid:""}},isLoad:!0,fileList:[],upiData:{pay_name:"",pay_mobile:"",pay_account:"",pay_email:""}}},computed:{},watch:{$route(){this.rechargeId?(this.$parent.navBarTitle=this.$t("recharge.default[1]"),this.getRechargeInfo()):(this.$parent.navBarTitle=this.$t("recharge.default[0]"),this.$Model.GetRechargeType(e=>{this.isLoad=!1,this.rechargeList=e.info}))}},created(){this.rechargeId?(this.$parent.navBarTitle=this.$t("recharge.default[1]"),this.getRechargeInfo()):(this.$parent.navBarTitle=this.$t("recharge.default[0]"),this.$Model.GetRechargeType(e=>{this.isLoad=!1,this.rechargeList=e.info}))},mounted(){},activated(){},destroyed(){},methods:{selectType(e){switch(this.postData={money:this.$route.query.amount||"",recharge_id:e,name:""},this.jumpData={result:{bid:""}},this.rechargeInfo=this.rechargeList.find(t=>t.id==e),this.showPrice=!0,this.rechargeInfo.bankList?this.pickerList=this.rechargeInfo.bankList:this.pickerList="",this.rechargeInfo.mode){case"wap":case"scan":this.jumpData.url=this.rechargeInfo.submitUrl,this.jumpData.result={uid:this.UserInfo.userid,typeid:e,bid:"",scanType:""};break;case"online":case"quick":this.jumpData.url=this.rechargeInfo.submitUrl,this.jumpData.result={uid:this.UserInfo.userid,typeid:e,bid:"",bank_code:""};break;case"upi":this.jumpData.url=this.rechargeInfo.submitUrl,this.jumpData.result={uid:this.UserInfo.userid,typeid:e,bid:"",bank_code:"",pay_name:"",pay_mobile:"",pay_account:"",pay_email:""};break}},onConfirm(e){switch(this.rechargeInfo.mode){case"wap":case"scan":this.jumpData.result.scanType=this.rechargeInfo.bankList.find(t=>t.id==e).bank_code;break;case"online":case"quick":case"upi":this.jumpData.result.bank_code=this.rechargeInfo.bankList.find(t=>t.id==e).bank_code;break;case"upi":this.jumpData.result.bank_code=this.rechargeInfo.bankList.find(t=>t.id==e).bank_code;break}},onSubmit(){if(this.postData.money)if(Number(this.postData.money)<Number(this.rechargeInfo.minPrice))this.$Dialog.Toast(this.$t("recharge.placeholder[3]",{currency:this.InitData.currency,min:this.rechargeInfo.minPrice}));else if(Number(this.postData.money)>Number(this.rechargeInfo.maxPrice))this.$Dialog.Toast(this.$t("recharge.placeholder[4]",{currency:this.InitData.currency,max:this.rechargeInfo.maxPrice}));else switch(this.rechargeInfo.mode){case"wap":case"scan":case"online":case"quick":case"upi":if(!this.jumpData.result.bid)return void this.$Dialog.Toast(this.$t("recharge.placeholder[1]"));if("upi"==this.rechargeInfo.mode){if(!this.upiData.pay_name)return void this.$Dialog.Toast(this.$t("recharge.placeholder[5]"));if(!this.upiData.pay_mobile)return void this.$Dialog.Toast(this.$t("recharge.placeholder[6]"));if(!this.upiData.pay_account)return void this.$Dialog.Toast(this.$t("recharge.placeholder[7]"));if(!this.upiData.pay_email)return void this.$Dialog.Toast(this.$t("recharge.placeholder[8]"));this.jumpData.result.pay_name=this.upiData.pay_name,this.jumpData.result.pay_mobile=this.upiData.pay_mobile,this.jumpData.result.pay_account=this.upiData.pay_account,this.jumpData.result.pay_email=this.upiData.pay_email}this.jumpData.result.name=this.postData.name,this.jumpData.result.price=this.postData.money;const t=this.jumpData.url+"?"+e.param(this.jumpData.result);this.$Util.OpenUrl(t);break;default:if(!this.postData.name)return void this.$Dialog.Toast(this.$t("recharge.placeholder[2]"));this.isSubmit=!0,this.$Model.RechargeOrder(this.postData,e=>{this.isSubmit=!1,1==e.code&&(this.showPrice=!1)})}else this.$Dialog.Toast(this.$t("recharge.placeholder[0]"))},afterRead(e){e.status="uploading",e.message=this.$t("upload[0]"),this.uploadImgs(e)},compressImg(e){this.$Util.CompressImg(e.file.type,e.content,750,t=>{let a=new FormData;a.append("token",localStorage["Token"]),a.append("type",4),a.append("image",t,e.file.name),this.$Model.UploadImg(a,t=>{1==t.code?(e.message=this.$t("upload[2]"),e.status="success",e.url=t.url):(e.status="failed",e.message=this.$t("upload[3]"))})})},uploadImgs(e){if(e.length)e.forEach(e=>{if(!e.file.type.match(/image/))return e.status="failed",void(e.message=this.$t("upload[1]"));this.compressImg(e)});else{if(!e.file.type.match(/image/))return e.status="failed",void(e.message=this.$t("upload[1]"));this.compressImg(e)}},setOrderInfo(){const e=this.fileList.flatMap(e=>e.url.replace(this.InitData.setting.up_url,""));this.$Model.SetOrderInfo({orderNumber:this.rechargeId,screenshots:e},e=>{this.getRechargeInfo()})},getRechargeInfo(){this.$Model.GetRechargeInfo(this.rechargeId,e=>{this.isLoad=!1,this.rechargeData=e,this.fileList=e.screenshots?e.screenshots.flatMap(e=>[{url:this.InitData.setting.up_url+e}]):[]})}}}}).call(this,a("1157"))},"6a23":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"PageBox"},[a("div",{staticClass:"ScrollBox"},[e.rechargeId?a("div",{staticClass:"RechargeInfo"},[a("van-cell",{attrs:{title:e.$t("recharge.info[0]")}},[[e._v(" "+e._s(e.InitData.currency)),a("em",[e._v(e._s(Number(e.rechargeData.money||0).toLocaleString()))])]],2),a("van-field",{attrs:{readonly:"",label:e.$t("recharge.info[1]"),value:e.rechargeData.orderNumber},scopedSlots:e._u([{key:"button",fn:function(){return[a("span",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"IosOrder"}},[e._v(e._s(e.rechargeData.orderNumber))]),a("input",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"AppOrder",type:"text",readonly:""},domProps:{value:e.rechargeData.orderNumber}}),a("van-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$Util.CopyText("IosOrder","AppOrder")}}},[e._v(e._s(e.$t("recharge.info[5]")))])]},proxy:!0}],null,!1,2965330130)}),e.rechargeData.remarks?a("van-field",{attrs:{readonly:"",label:e.$t("recharge.info[11]"),value:e.rechargeData.remarks}}):e._e(),e.rechargeData&&e.rechargeData.receive.length?a("van-divider",{staticStyle:{"text-align":"center",margin:"10px 0"},attrs:{hairline:!1}},[a("span",{domProps:{innerHTML:e._s(e.$t("recharge.tips[0]"))}})]):a("van-divider",{staticStyle:{"text-align":"center",margin:"10px 0"},attrs:{hairline:!1}},[a("span",{domProps:{innerHTML:e._s(e.$t("recharge.tips[5]"))}})]),e._l(e.rechargeData.receive,(function(t,i){return a("van-panel",{key:t.id,attrs:{title:e.$t("recharge.info[6]",{type:t.typeName}),desc:t.qrcode?e.$t("recharge.tips[1]"):e.$t("recharge.tips[2]"),border:!1}},[t.qrcode?a("div",{staticStyle:{padding:"16px"}},[a("img",{attrs:{src:""+e.InitData.setting.up_url+t.qrcode}})]):a("div",[a("van-field",{attrs:{border:!1,readonly:"",value:t.name,label:e.$t("recharge.info[4]")},scopedSlots:e._u([{key:"button",fn:function(){return[a("span",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"IosName"+i}},[e._v(e._s(t.name))]),a("input",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"AppName"+i,type:"text",readonly:""},domProps:{value:t.name}}),a("van-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$Util.CopyText("IosName"+i,"AppName"+i)}}},[e._v(e._s(e.$t("recharge.info[5]")))])]},proxy:!0}],null,!0)}),a("van-field",{attrs:{readonly:"",value:t.typeName,label:e.$t("recharge.info[2]")},scopedSlots:e._u([{key:"button",fn:function(){return[a("span",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"IosBank"+i}},[e._v(e._s(t.typeName))]),a("input",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"AppBank"+i,type:"text",readonly:""},domProps:{value:t.typeName}}),a("van-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$Util.CopyText("IosBank"+i,"AppBank"+i)}}},[e._v(e._s(e.$t("recharge.info[5]")))])]},proxy:!0}],null,!0)}),a("van-field",{attrs:{border:!1,readonly:"",value:t.account,label:e.$t("recharge.info[3]")},scopedSlots:e._u([{key:"button",fn:function(){return[a("span",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"IosAccount"+i}},[e._v(e._s(t.account))]),a("input",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"AppAccount"+i,type:"text",readonly:""},domProps:{value:t.account}}),a("van-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$Util.CopyText("IosAccount"+i,"AppAccount"+i)}}},[e._v(e._s(e.$t("recharge.info[5]")))])]},proxy:!0}],null,!0)})],1)])})),a("van-divider",{attrs:{hairline:!1}},[e._v(e._s(e.$t("recharge.tips[3]")))]),a("van-divider",{attrs:{hairline:!1}},[e._v(e._s(e.$t("recharge.tips[4]")))])],2):a("div",[e.showPrice?a("div",{staticClass:"mt15"},[e.rechargeInfo.fixed?a("van-field",{staticClass:"MoneyList",attrs:{label:e.$t("recharge.label[0]"),size:"large","label-width":"80"},scopedSlots:e._u([{key:"input",fn:function(){return[a("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.postData.money,callback:function(t){e.$set(e.postData,"money",t)},expression:"postData.money"}},e._l(e.rechargeInfo.fixed.split(","),(function(t){return a("van-radio",{key:t,attrs:{name:t}},[e._v(e._s(t))])})),1)]},proxy:!0}],null,!1,48192198)}):a("van-field",{attrs:{type:"number",label:e.$t("recharge.label[0]"),placeholder:e.$t("recharge.placeholder[0]"),size:"large","label-width":"80"},model:{value:e.postData.money,callback:function(t){e.$set(e.postData,"money","string"===typeof t?t.trim():t)},expression:"postData.money"}}),e.pickerList.length?a("van-field",{attrs:{size:"large",label:e.$t("recharge.label[1]"),"label-width":"80"},scopedSlots:e._u([{key:"input",fn:function(){return[a("van-radio-group",{attrs:{direction:"horizontal"},on:{change:e.onConfirm},model:{value:e.jumpData.result.bid,callback:function(t){e.$set(e.jumpData.result,"bid",t)},expression:"jumpData.result.bid"}},e._l(e.pickerList,(function(t){return a("van-radio",{key:t.id,attrs:{name:t.id}},[e._v(e._s(t.bank_name))])})),1)]},proxy:!0}],null,!1,1809689156)}):e._e(),a("van-field",{attrs:{type:"text",label:e.$t("recharge.label[2]"),placeholder:e.$t("recharge.placeholder[2]"),size:"large","label-width":"80"},model:{value:e.postData.name,callback:function(t){e.$set(e.postData,"name","string"===typeof t?t.trim():t)},expression:"postData.name"}}),"upi"==e.rechargeInfo.mode?a("van-field",{attrs:{type:"text",label:e.$t("recharge.label[3]"),placeholder:e.$t("recharge.placeholder[5]"),size:"large","label-width":"80"},model:{value:e.upiData.pay_name,callback:function(t){e.$set(e.upiData,"pay_name","string"===typeof t?t.trim():t)},expression:"upiData.pay_name"}}):e._e(),"upi"==e.rechargeInfo.mode?a("van-field",{attrs:{type:"tel",label:e.$t("recharge.label[4]"),placeholder:e.$t("recharge.placeholder[6]"),size:"large","label-width":"80"},model:{value:e.upiData.pay_mobile,callback:function(t){e.$set(e.upiData,"pay_mobile","string"===typeof t?t.trim():t)},expression:"upiData.pay_mobile"}}):e._e(),"upi"==e.rechargeInfo.mode?a("van-field",{attrs:{type:"text",label:e.$t("recharge.label[5]"),placeholder:e.$t("recharge.placeholder[7]"),size:"large","label-width":"80"},model:{value:e.upiData.pay_account,callback:function(t){e.$set(e.upiData,"pay_account","string"===typeof t?t.trim():t)},expression:"upiData.pay_account"}}):e._e(),"upi"==e.rechargeInfo.mode?a("van-field",{attrs:{type:"text",label:e.$t("recharge.label[6]"),placeholder:e.$t("recharge.placeholder[8]"),size:"large","label-width":"80"},model:{value:e.upiData.pay_email,callback:function(t){e.$set(e.upiData,"pay_email","string"===typeof t?t.trim():t)},expression:"upiData.pay_email"}}):e._e(),a("div",{staticStyle:{padding:"20px 15px"}},[a("van-button",{staticStyle:{"font-size":"18px"},attrs:{block:"",type:"danger",loading:e.isSubmit,"loading-text":e.$t("recharge.default[5]")},on:{click:e.onSubmit}},[e._v(e._s(e.$t("recharge.default[6]")))]),a("van-button",{staticStyle:{"font-size":"18px","margin-top":"10px"},attrs:{block:""},on:{click:function(t){e.showPrice=!1}}},[e._v(e._s(e.$t("recharge.default[7]")))])],1)],1):a("div",[a("van-divider",{attrs:{"content-position":"left"}},[a("i18n",{attrs:{path:"recharge.default[3]"}},[a("em",{staticStyle:{color:"#4087f1"},attrs:{slot:"money"},slot:"money"},[e._v(e._s(e.InitData.currency)+e._s(Number(e.UserInfo.balance).toLocaleString()))])])],1),e.rechargeList?a("van-cell-group",{staticClass:"RechargeList",attrs:{border:!1}},e._l(e.rechargeList,(function(t){return a("van-cell",{key:t.id,attrs:{"is-link":""},on:{click:function(a){return e.selectType(t.id)}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("img",{staticStyle:{"border-radius":"100%","margin-right":"10px"},attrs:{src:"./static/icon/"+t.mode+".png",height:"40"}})]},proxy:!0},{key:"title",fn:function(){return[a("b",[e._v(e._s(t.name))])]},proxy:!0},{key:"label",fn:function(){return[e._v(" "+e._s(e.$t("recharge.default[4]",{currency:e.InitData.currency,min:t.minPrice,max:t.maxPrice,fee:t.fee}))+" ")]},proxy:!0}],null,!0)})})),1):e._e()],1)]),e.isLoad?a("van-loading",{staticClass:"Loading",attrs:{size:"50",vertical:""}},[e._v(e._s(e.$t("recharge.default[8]")))]):e._e()],1)])},r=[],s=a("6198"),n=s["a"],o=(a("f11a"),a("2877")),l=Object(o["a"])(n,i,r,!1,null,"765e9a84",null);t["default"]=l.exports},"7fa8":function(e,t,a){},f11a:function(e,t,a){"use strict";var i=a("7fa8"),r=a.n(i);r.a}}]);
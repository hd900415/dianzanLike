/* 橘子科技旗下 A4源码  https://an4.net 搭建二开联系 QQ 3479863005  纸飞机联系 @orangetech */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-025a12fe"],{"01c5":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"SetBox"},[i("van-nav-bar",{attrs:{title:"设置备注名","left-text":"取消","right-text":"完成",border:!1},on:{"click-left":t.onClickCancel,"click-right":t.onClickConfirm}}),i("div",{staticClass:"FormBox"},[i("div",{staticClass:"title"},[t._v("备注名")]),i("van-field",{attrs:{placeholder:"添加备注名"},model:{value:t.remarkNames,callback:function(e){t.remarkNames=e},expression:"remarkNames"}})],1)],1)},a=[],o={name:"Remark",components:{},props:{friendId:{type:Number,default:0},remarkName:{type:String,default:""}},data(){return{remarkNames:this.remarkName}},computed:{},watch:{},created(){},mounted(){},activated(){},destroyed(){},methods:{onClickCancel(){this.$emit("triggerPopup")},onClickConfirm(){this.$MiModel.SetFriendsInfo({id:this.friendId,memo_name:this.remarkNames},t=>{this.$MiModel.FriendsList(""),this.$emit("triggerPopup")})}}},r=o,n=i("2877"),c=Object(n["a"])(r,s,a,!1,null,null,null);e["a"]=c.exports},"3e81":function(t,e,i){"use strict";(function(t){e["a"]={name:"Search",components:{},props:{},data(){return{isReadonly:!0,showCancel:!1,showCon:!1,searchList:{friends:"",groups:"",record:""},searchCon:""}},computed:{},watch:{},created(){},mounted(){},activated(){},destroyed(){},methods:{onOpenSearch(){if(this.$emit("closeDropDown"),this.showCon)return!1;t(".SearchBox").addClass("show"),this.isReadonly=!1,this.showCancel=!0,this.showCon=!0,this.$nextTick(()=>{this.$Initial.InitScrollWrap(this.$el),this.ScrollWrap=new this.$BScroll(this.$refs.Scroll,{click:!0})})},onCancel(){t(".SearchBox").removeClass("show"),this.isReadonly=!0,this.showCancel=!1,this.showCon=!1},onSearch(){this.$MiModel.SoRecord(this.searchCon,t=>{1==t.code?this.searchList=t.dataArray:this.searchList={friends:"",groups:"",record:""},this.$nextTick(()=>{this.$Initial.InitScroll(this.$el)})})}}}}).call(this,i("1157"))},"91e2":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isRoom?t._e():i("div",{staticClass:"Main",class:{Background:"message"!=t.active}},[i("van-nav-bar",{staticClass:"NavBar",attrs:{title:"message"==t.active?"密聊":"contact"==t.active?"通讯录":"group"==t.active?"群聊":"find"==t.active?"发现":"我的",border:!1},on:{"click-left":t.onClickClose,"click-right":t.onClickRight}},[i("img",{staticClass:"icon-left",attrs:{slot:"left",src:"./static/miliao/icon/"+("group"==t.active?"icon-back":"icon-close")+".svg"},slot:"left"}),"user"!=t.active&&"find"!=t.active?i("img",{staticClass:"icon-right",attrs:{slot:"right",src:t.rightIcon},slot:"right"}):t._e()]),"message"==t.active?i("div",{staticClass:"DropDown",class:{show:t.isDropDown}},[i("ul",[i("li",{on:{click:function(e){t.showPopup=!0,t.isDropDown=!1}}},[i("img",{attrs:{src:"./static/miliao/icon/icon-newmq.svg",width:"18"}}),i("i",[t._v("新建群聊")])]),i("li",{on:{click:function(e){return t.$router.push({name:"addFG",query:{type:"friend"}})}}},[i("img",{staticStyle:{margin:"0 7px 0 -3px"},attrs:{src:"./static/miliao/icon/icon-friend-add-w.svg",width:"24"}}),i("i",[t._v("添加密友")])])])]):t._e(),"message"!=t.active||t.chatList.length?t._e():i("MiNoContent"),"user"!=t.active&&"find"!=t.active?i("Search",{on:{closeDropDown:function(e){t.isDropDown=!1}}}):t._e(),"message"==t.active?i("ChatList",{attrs:{chatList:t.chatList}}):t._e(),i("keep-alive",["contact"==t.active?i("FriendList",{on:{showGroup:function(e){return t.changeActive("group")}}}):t._e(),"group"==t.active?i("GroupList"):t._e()],1),"find"==t.active?i("Find"):t._e(),"user"==t.active?i("UserCenter"):t._e(),i("van-tabbar",{staticClass:"TabBar",attrs:{"active-color":"#03b703","z-index":999},on:{change:t.changeActive},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tabbar-item",{attrs:{name:"message"},scopedSlots:t._u([{key:"icon",fn:function(e){return i("img",{attrs:{src:e.active?t.icon_ml.active:t.icon_ml.normal}})}}],null,!1,1079193820)},[i("span",[t._v("密聊")]),t.isSee.ml_num?i("div",{staticClass:"van-info"},[t._v(t._s(t.isSee.ml_num))]):t._e()]),i("van-tabbar-item",{attrs:{name:"contact"},scopedSlots:t._u([{key:"icon",fn:function(e){return i("img",{attrs:{fdsfd:e.active,src:"contact"==t.active||"group"==t.active?t.icon_my.active:t.icon_my.normal}})}}],null,!1,1823846438)},[i("span",{style:{color:"group"==t.active?"#03b703":""}},[t._v("通讯录")]),t.isSee.my_num?i("div",{staticClass:"van-info"},[t._v(t._s(t.isSee.my_num))]):t._e()]),i("van-tabbar-item",{attrs:{name:"find"},scopedSlots:t._u([{key:"icon",fn:function(e){return i("img",{attrs:{src:e.active?t.icon_fx.active:t.icon_fx.normal}})}}],null,!1,4215061628)},[i("span",[t._v("发现")]),t.isSee.mq_num?i("div",{staticClass:"van-info"},[t._v(t._s(t.isSee.mq_num))]):t._e()]),i("van-tabbar-item",{attrs:{name:"user"},scopedSlots:t._u([{key:"icon",fn:function(e){return i("img",{attrs:{src:e.active?t.icon_me.active:t.icon_me.normal}})}}],null,!1,524989692)},[i("span",[t._v("我的")])])],1),i("van-popup",{staticClass:"SetPopup",attrs:{position:"bottom",overlay:!1,"lock-scroll":!1},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[t.showPopup?i("BuildGroup",{on:{triggerPopup:t.triggerPopup}}):t._e()],1)],1)},a=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"SearchBox"},[i("van-search",{staticClass:"SearchBar",attrs:{placeholder:"搜索",shape:"round",background:"#f5f6f9",readonly:t.isReadonly,"show-action":t.showCancel},on:{click:t.onOpenSearch,cancel:t.onCancel,input:t.onSearch},model:{value:t.searchCon,callback:function(e){t.searchCon=e},expression:"searchCon"}}),t.showCon?i("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[i("div",{staticClass:"Scroll-Con"},[t.searchList.friends.length>0?i("div",{staticClass:"ChatList"},[i("div",{staticClass:"row-title"},[t._v("密友")]),t._l(t.searchList.friends,(function(e){return i("van-cell",{key:e.id,attrs:{title:e.nickname?e.nickname:"昵称未设置",label:"密聊号:"+e.mid,size:"large",to:{name:"sendMsg",query:{id:e.id,chat_type:1}}}},[i("div",{staticClass:"head",attrs:{slot:"icon"},slot:"icon"},[e.header?i("img",{attrs:{src:"./static/miliao/images/headimg/"+e.header}}):i("b",[t._v(t._s(e.nickname?e.nickname.slice(0,2):"昵称"))])])])}))],2):t._e(),t.searchList.groups.length>0?i("div",{staticClass:"ChatList"},[i("div",{staticClass:"row-title"},[t._v("密群")]),t._l(t.searchList.groups,(function(e){return i("van-cell",{key:e.id,attrs:{title:e.group_name?e.group_name:"密群名未设置",label:"密群号:"+e.gid,size:"large",to:{name:"sendMsg",query:{id:e.id,chat_type:2}}}},[i("div",{staticClass:"head",attrs:{slot:"icon"},slot:"icon"},[e.header?i("img",{attrs:{src:"./static/miliao/images/headimg/"+e.header}}):i("b",[t._v(t._s(e.group_name?e.group_name.slice(0,2):"密群"))])])])}))],2):t._e(),t.searchList.record.length>0?i("div",{staticClass:"ChatList"},[i("div",{staticClass:"row-title"},[t._v("密聊记录")]),t._l(t.searchList.record,(function(e){return i("van-cell",{key:e.recordId,attrs:{size:"large",to:{name:"sendMsg",query:{id:e.recordId,chat_type:e.record_types}}}},[i("div",{staticClass:"head",attrs:{slot:"icon"},slot:"icon"},[e.header?i("img",{attrs:{src:"./static/miliao/images/headimg/"+e.header}}):i("b",[t._v(t._s(e.title?e.title.slice(0,2):1==e.record_types?"昵称":"密群"))])]),i("template",{slot:"title"},[i("span",[t._v(t._s(e.title?e.title:1==e.record_types?"昵称未设置":"密群名未设置"))]),i("div",{staticClass:"van-cell__label"},[t._v(t._s(e.countNo)+" 条相关记录")])])],2)}))],2):t._e(),i("div",{staticClass:"Box"}),t.searchCon?t._e():i("div",{staticClass:"SearchTips"},[t._v("点击搜索框输入内容搜索")])])]):t._e()],1)},r=[],n=i("3e81"),c=n["a"],l=i("2877"),h=Object(l["a"])(c,o,r,!1,null,null,null),d=h.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"SetBox"},[i("van-nav-bar",{attrs:{title:"新建群聊","left-text":"取消","right-text":"完成"+(t.checkList.length?"("+t.checkList.length+")":""),border:!1},on:{"click-left":t.onClickCancel,"click-right":function(e){return t.onClickConfirm("open")}}}),i("van-search",{staticClass:"SearchFriend",attrs:{placeholder:"搜索"},on:{input:t.onSearch},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),i("van-cell-group",{staticClass:"SearchResult mb10"},[i("van-cell",{directives:[{name:"show",rawName:"v-show",value:!t.checkList.length,expression:"!checkList.length"}],staticClass:"BuildGroupTips",attrs:{value:"选择一个或多个好友发起聊天，你也可以不选",center:""}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.checkList.length>0,expression:"checkList.length>0"}],staticClass:"CheckGroupList"},[i("div",{ref:"CheckListScroll"},[i("ul",t._l(t.checkList,(function(e,s){return i("li",{key:s,on:{click:function(e){return t.delCheck(s)}}},[e.header?i("img",{attrs:{src:"./static/miliao/images/headimg/"+e.header}}):i("b",[t._v(t._s(e.fname?e.fname.slice(0,2):"昵称"))])])})),0)])])],1),i("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[i("div",{staticClass:"Scroll-Con"},[i("van-checkbox-group",{staticClass:"FriendList",model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.searchList,(function(e,s){return i("van-cell",{key:s,attrs:{clickable:"",title:e.fname?e.fname:"昵称未设置"},on:{click:function(e){return t.toggleCheckbox(s)}}},[i("van-checkbox",{ref:"checkboxes",refInFor:!0,staticClass:"mr15",attrs:{slot:"icon",name:e,"checked-color":"#06bf04"},slot:"icon"}),i("div",{staticClass:"head",attrs:{slot:"icon"},slot:"icon"},[e.header?i("img",{attrs:{src:"./static/miliao/images/headimg/"+e.header}}):i("b",[t._v(t._s(e.fname?e.fname.slice(0,2):"昵称"))])])],1)})),1),t.friendList&&!t.friendList.length?i("MiNoContent",{attrs:{msg:["你没有任何好友可以选择","快去添加好友吧"]}}):t._e()],1)]),i("van-popup",{staticClass:"GroupPass",attrs:{"close-on-click-overlay":!1},model:{value:t.showPass,callback:function(e){t.showPass=e},expression:"showPass"}},[i("h3",[t._v("设置群密码")]),i("van-icon",{staticClass:"close",attrs:{name:"cross"},on:{click:function(e){t.showPass=!1,t.groupPass=""}}}),i("van-password-input",{attrs:{value:t.groupPass,info:"密码为 6 位数字"},on:{focus:function(e){t.showKeyboard=!0}}}),i("van-button",{staticClass:"fl",attrs:{type:"primary",disabled:t.isPassDisabled},on:{click:function(e){return t.onClickConfirm("yes")}}},[t._v("设置并建群")]),i("van-button",{staticClass:"fr",attrs:{type:"default"},on:{click:function(e){return t.onClickConfirm("no")}}},[t._v("不设置只建群")])],1),i("van-number-keyboard",{attrs:{show:t.showKeyboard,"z-index":9999},on:{input:t.onInput,delete:t.onDelete,blur:function(e){t.showKeyboard=!1}}})],1)},m=[],p=i("9494"),v=p["a"],g=Object(l["a"])(v,u,m,!1,null,null,null),f=g.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[i("div",{staticClass:"Scroll-Con"},[i("div",{staticClass:"ChatList"},t._l(t.listData,(function(e,s){return i("van-swipe-cell",{key:s,class:{top:e.is_z_d},attrs:{"right-width":140,"on-close":t.onClickDel}},[i("van-cell",{attrs:{size:"large",clickable:"",to:{name:"sendMsg",query:{id:e.recordId,chat_type:e.record_types}}}},[i("div",{staticClass:"head",attrs:{slot:"icon"},slot:"icon"},[e.header?i("img",{attrs:{src:"./static/miliao/images/headimg/"+e.header}}):i("b",[t._v(t._s(e.title?e.title.slice(0,2):1==e.record_types?"昵称":"密群"))])]),e.is_see_num?i("van-tag",{attrs:{slot:"icon",round:"",type:"danger"},slot:"icon"},[t._v(t._s(e.is_see_num))]):t._e(),i("template",{slot:"title"},[i("span",[t._v(t._s(e.title?e.title:1==e.record_types?"昵称未设置":"密群名未设置"))]),i("div",{staticClass:"van-cell__label",domProps:{innerHTML:t._s(e.content)}})]),i("span",[t._v(t._s(e.time))]),i("p",[e.is_v_d?i("i",{staticClass:"my-icon my-icon-notice"}):t._e()])],2),i("span",{attrs:{slot:"right"},on:{click:function(i){return t.clearChat(e.recordId,e.record_types)}},slot:"right"},[i("i",[t._v("删除")])]),i("span",{staticClass:"grey",attrs:{slot:"right"},on:{click:function(i){return t.setRead(e.recordId,e.record_types)}},slot:"right"},[i("i",[t._v("已读")])])],1)})),1)])])},C=[],k={name:"ChatList",components:{},props:["chatList"],data(){return{listData:this.chatList}},computed:{},watch:{},created(){},mounted(){this.$MiInitial.InitScrollWrap(this.$parent.$el),this.ScrollWrap=new this.$MiBScroll(this.$refs.Scroll,{click:!0})},activated(){},destroyed(){},methods:{onClickDel(t,e){e.close()},clearChat(t,e){this.$MiDialog.Confirm("删除会话的同时，也会同时清空聊天记录，确认删除吗？",()=>{1==e?this.$MiModel.SetFriendsInfo({state:9,id:t}):this.$MiModel.SetGroupsInfo({state:9,id:t})})},setRead(t,e){this.$MiModel.SeeAllRecord({id:t,type:e},t=>{1==t.code&&this.$MiModel.GetUserData(t=>{this.listData=t.mldata})})}}},S=k,y=Object(l["a"])(S,_,C,!1,null,null,null),w=y.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[i("div",{staticClass:"Scroll-Con"},[i("div",{staticClass:"FriendList"},[i("van-cell",{staticClass:"new",attrs:{title:"新的密友",to:"/miliao/friendNotice"}},[i("div",{staticClass:"head",attrs:{slot:"icon"},slot:"icon"},[i("img",{attrs:{src:"./static/miliao/icon/icon-friend-add-w.svg"}})]),t.myNum?i("van-tag",{attrs:{round:"",type:"danger"}},[t._v(t._s(t.myNum))]):t._e()],1),i("van-cell",{staticClass:"new",attrs:{title:"群聊"},on:{click:function(e){return t.$emit("showGroup")}}},[i("div",{staticClass:"head",attrs:{slot:"icon"},slot:"icon"},[i("img",{attrs:{src:"./static/miliao/icon/icon-group-add-w.svg"}})]),t.mqNum?i("van-tag",{attrs:{round:"",type:"danger"}},[t._v(t._s(t.mqNum))]):t._e()],1),i("div",{staticClass:"FriendCount"},[t._v(" "+t._s(t.friendList.length)+" 位密友 ")]),t._l(t.friendList,(function(e){return i("van-swipe-cell",{key:e.id,attrs:{"right-width":140,"on-close":t.onClickDel}},[i("van-cell",{attrs:{title:e.fname?e.fname:"昵称未设置",clickable:""},on:{click:function(i){return t.onOpenInfo(e.id)}}},[i("div",{staticClass:"head",attrs:{slot:"icon"},slot:"icon"},[e.header?i("img",{attrs:{src:"./static/miliao/images/headimg/"+e.header}}):i("b",[t._v(t._s(e.fname?e.fname.slice(0,2):"昵称"))])])]),i("span",{attrs:{slot:"right"},on:{click:function(i){return t.delFriend(e.id)}},slot:"right"},[i("i",[t._v("删除")])]),i("span",{staticClass:"grey",attrs:{slot:"right"},on:{click:function(i){return t.setRemark(e.id,e.fname)}},slot:"right"},[i("i",[t._v("备注")])])],1)}))],2)])]),i("van-popup",{staticClass:"SetPopup",attrs:{position:"bottom",overlay:!1},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[t.showPopup?i("SetRemark",{attrs:{friendId:t.friendId,remarkName:t.remarkName},on:{triggerPopup:t.triggerPopup}}):t._e()],1)],1)},$=[],L=i("01c5"),M={name:"FriendList",components:{Search:d,SetRemark:L["a"]},props:{},data(){return{showPopup:!1,remarkName:"",friendId:""}},computed:{isSee(){return this.ChatData.is_see||{ml_num:0,my_num:0,mq_num:0}},myNum(){return this.isSee.my_num},mqNum(){return this.isSee.mq_num},friendList(){return this.FriendList||[]}},watch:{},created(){},mounted(){this.$MiInitial.InitScroll(this.$parent.$el)},activated(){this.ScrollWrap=new this.$MiBScroll(this.$refs.Scroll,{click:!0}),this.getFriendsList()},destroyed(){},methods:{onClickDel(t,e){e.close()},onOpenInfo(t){this.$router.push({name:"friendInfo",query:{id:t}})},setRemark(t,e){this.showPopup=!0,this.friendId=t,this.remarkName=e},getFriendsList(){this.$MiModel.FriendsList("",t=>{this.$nextTick(()=>{this.$MiInitial.InitScroll(this.$parent.$el),this.ScrollWrap.refresh()})})},triggerPopup(){this.showPopup=!1},delFriend(t){this.$MiDialog.Confirm("确定要删除该好友吗？",()=>{this.$MiModel.SetFriendsInfo({id:t,state:5},t=>{t&&this.getFriendsList()})})}}},I=M,x=Object(l["a"])(I,b,$,!1,null,null,null),P=x.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[i("div",{staticClass:"Scroll-Con"},[i("div",{staticClass:"FriendList"},[i("van-cell",{staticClass:"new",attrs:{title:"群通知",to:"/miliao/groupNotice"}},[i("div",{staticClass:"head",staticStyle:{"background-color":"#fd664d"},attrs:{slot:"icon"},slot:"icon"},[i("van-icon",{attrs:{name:"bell"}})],1),t.mqNum?i("van-tag",{attrs:{round:"",type:"danger"}},[t._v(t._s(t.mqNum))]):t._e()],1),t.groupList?i("div",{staticClass:"FriendCount"},[t._v(" "+t._s(t.groupList.length)+" 个密群 ")]):t._e(),t._l(t.groupList,(function(e){return i("van-cell",{key:e.id,attrs:{title:e.gname?e.gname:"密群名未设置",to:{name:"sendMsg",query:{id:e.id,chat_type:e.record_types}}}},[i("div",{staticClass:"head",attrs:{slot:"icon"},slot:"icon"},[e.header?i("img",{attrs:{src:"./static/miliao/images/headimg/"+e.header}}):i("b",[t._v(t._s(e.gname?e.gname.slice(0,2):"密群"))])])])}))],2)])])},N=[],F={name:"GroupList",components:{Search:d},props:{},data(){return{}},computed:{isSee(){return this.ChatData.is_see||{ml_num:0,my_num:0,mq_num:0}},mqNum(){return this.isSee.mq_num},groupList(){return this.GroupList||[]}},watch:{},created(){},mounted(){this.$MiInitial.InitScrollWrap(this.$parent.$el)},activated(){this.ScrollWrap=new this.$MiBScroll(this.$refs.Scroll,{click:!0}),this.$MiModel.GroupsList(t=>{this.$nextTick(()=>{this.$MiInitial.InitScrollWrap(this.$parent.$el),this.ScrollWrap.refresh()})})},destroyed(){},methods:{onOpenInfo(t){this.$router.push({name:"groupInfo",query:{id:t}})}}},B=F,W=Object(l["a"])(B,D,N,!1,null,null,null),q=W.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[i("div",{staticClass:"Scroll-Con"},[i("div",{staticClass:"Box UserCenter"},[i("van-cell",{staticClass:"Info",attrs:{title:t.userInfo.nickname,label:"密聊号："+t.userInfo.mid,border:!1,size:"large"}},[i("div",{staticClass:"head-img",attrs:{slot:"icon"},slot:"icon"},[t.userInfo.header?i("img",{attrs:{src:"./static/miliao/images/headimg/"+t.userInfo.header,width:"100%"}}):i("b",[t._v(t._s(t.userInfo.nickname.slice(0,2)))])])]),i("van-cell",{staticClass:"Setting",attrs:{title:"个人信息",size:"large","is-link":"",to:"/miliao/userInfo"}},[i("van-icon",{staticStyle:{"margin-right":"10px"},attrs:{slot:"icon",name:"manager",color:"#1caaff",size:"22px"},slot:"icon"})],1),i("van-cell",{staticClass:"Setting",attrs:{title:"设置",border:!1,size:"large","is-link":"",to:"/miliao/userSetting"}},[i("van-icon",{attrs:{slot:"icon","class-prefix":"my-icon",name:"setting",color:"#1caaff"},slot:"icon"})],1)],1)])])},O=[],R={name:"UserCenter",components:{},props:{},data(){return{}},computed:{userInfo(){return this.MiUserInfo||{nickname:"昵称未设置",mid:""}}},watch:{},created(){this.$MiModel.GetUserInfo()},mounted(){this.$MiInitial.InitScrollWrap(this.$parent.$el),this.ScrollWrap=new this.$MiBScroll(this.$refs.Scroll,{click:!0})},activated(){},destroyed(){},methods:{}},V=R,j=(i("a344"),Object(l["a"])(V,G,O,!1,null,"784157fc",null)),z=j.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[i("div",{staticClass:"Scroll-Con"},[i("div",{staticClass:"Box"},[i("van-cell",{attrs:{title:"朋友圈",size:"large","is-link":""}},[i("van-icon",{staticStyle:{"margin-right":"10px","font-size":"22px"},attrs:{slot:"icon",name:"./static/miliao/icon/icon-friend-group.svg",color:"#1caaff"},slot:"icon"})],1)],1)])])])},A=[],T={name:"Find",components:{},props:{},data(){return{}},computed:{},watch:{},created(){},mounted(){this.$MiInitial.InitScrollWrap(this.$parent.$el),this.ScrollWrap=new this.$MiBScroll(this.$refs.Scroll,{click:!0})},activated(){},destroyed(){},methods:{}},U=T,H=Object(l["a"])(U,E,A,!1,null,null,null),K=H.exports,J={name:"Home",components:{Search:d,BuildGroup:f,ChatList:w,FriendList:P,GroupList:q,UserCenter:z,Find:K},props:{},data(){return{isRoom:Number(localStorage["isRoom"]),userName:"",active:localStorage["Home_Active"]||"message",icon_ml:{normal:"./static/miliao/icon/icon-ml-o.svg",active:"./static/miliao/icon/icon-ml.svg"},icon_my:{normal:"./static/miliao/icon/icon-my-o.svg",active:"./static/miliao/icon/icon-my.svg"},icon_fx:{normal:"./static/miliao/icon/icon-find-o.svg",active:"./static/miliao/icon/icon-find.svg"},icon_me:{normal:"./static/miliao/icon/icon-me-o.svg",active:"./static/miliao/icon/icon-me.svg"},isDropDown:!1,showPopup:!1,systemVObj:null,msgVObj:null,isVoice:!1}},computed:{rightIcon(){switch(this.active){case"contact":return"./static/miliao/icon/icon-friend-add.svg";case"group":return"./static/miliao/icon/icon-group-add.svg";default:return"./static/miliao/icon/icon-add.svg"}},isSee(){return this.ChatData.is_see||{ml_num:0,my_num:0,mq_num:0}},chatList(){return this.ChatData.mldata||[]}},watch:{"isSee.ml_num"(){this.isVoice&&this.msgVObj.play()},"isSee.my_num"(){this.isVoice&&this.systemVObj.play()},"isSee.mq_num"(){this.isVoice&&this.systemVObj.play()}},created(){this.$MiModel.GetUserData()},mounted(){this.systemVObj=document.getElementById("SystemVoice"),this.msgVObj=document.getElementById("MsgVoice");var t=this.systemVObj.canPlayType("audio/mpeg");t||this.$MiDialog.Alert("你的浏览器不支持音频文件")},activated(){},destroyed(){},methods:{onClickClose(){"group"==this.active?(this.active="contact",localStorage["Home_Active"]="contact"):(this.$router.replace({name:localStorage["BackUrl"]}),this.$root.$children[0].minMiliao=!0)},onClickRight(){"message"==this.active&&(this.isDropDown=!this.isDropDown),"contact"==this.active&&this.$router.push({name:"addFG",query:{type:"friend"}}),"group"==this.active&&this.$router.push({name:"addFG",query:{type:"group"}})},triggerPopup(t){this.showPopup=!1,t&&(this.active="group")},changeActive(t){this.active=t,this.isDropDown=!1,localStorage["Home_Active"]=t,"user"!=t&&this.$MiModel.GetUserData()},openScan(){this.$router.push({name:"scan"})}}},X=J,Y=Object(l["a"])(X,s,a,!1,null,null,null);e["default"]=Y.exports},9494:function(t,e,i){"use strict";(function(t){e["a"]={name:"BuildGroup",components:{},props:{},data(){return{friendList:"",searchList:[],searchVal:"",checkList:[],winW:t(window).width(),groupArr:[],showPass:!1,showKeyboard:!1,groupPass:"",isPassDisabled:!0}},computed:{},watch:{},created(){this.$MiModel.FriendsList("",t=>{this.friendList=t.list||[],this.searchList=this.friendList,this.$MiInitial.InitScroll(this.$el)})},mounted(){this.$MiInitial.InitScrollWrap(this.$el,t(".SearchFriend").outerHeight()+t(".SearchResult").outerHeight(!0)),this.ScrollWrap=new this.$MiBScroll(this.$refs.Scroll,{click:!0}),this.CheckListScroll=new this.$MiBScroll(this.$refs.CheckListScroll,{scrollX:!0,scrollY:!1,click:!0})},activated(){},destroyed(){},methods:{onClickCancel(){this.$emit("triggerPopup")},onClickConfirm(t){this.checkList.forEach(t=>{this.groupArr.push(t.fid)}),this.$MiModel.CreateGroups(this.groupArr.join(),"",t=>{this.$emit("triggerPopup",!0)})},onSearch(){this.searchList=[],this.friendList.forEach(t=>{t.fname.indexOf(this.searchVal)>-1&&this.searchList.push(t)})},toggleCheckbox(e){this.$refs.checkboxes[e].toggle(),this.$nextTick(()=>{var e=(t(".CheckGroupList li").outerWidth(!0)||0)*this.checkList.length;e>this.winW&&t(".CheckGroupList ul").width(e)})},delCheck(t){this.checkList.splice(t,1)},onInput(t){this.groupPass=(this.groupPass+t).slice(0,6),6==this.groupPass.length&&(this.isPassDisabled=!1,this.showKeyboard=!1)},onDelete(){this.isPassDisabled=!0,this.groupPass=this.groupPass.slice(0,this.groupPass.length-1)}}}}).call(this,i("1157"))},a344:function(t,e,i){"use strict";var s=i("fbb7"),a=i.n(s);a.a},fbb7:function(t,e,i){}}]);
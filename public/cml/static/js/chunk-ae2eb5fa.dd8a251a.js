/* 橘子科技旗下 A4源码  https://an4.net 搭建二开联系 QQ 3479863005  纸飞机联系 @orangetech */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae2eb5fa"],{"8ad2":function(t,s,i){"use strict";var a=i("958f"),e=i.n(a);e.a},"93dc":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"PageBox"},[i("van-nav-bar",{attrs:{fixed:"",border:!1,title:"任务列表","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),i("div",{staticClass:"ScrollBox"},[i("van-pull-refresh",{staticStyle:{padding:"0 12px"},on:{refresh:t.onRefresh},model:{value:t.isRefresh,callback:function(s){t.isRefresh=s},expression:"isRefresh"}},[i("van-list",{class:{Empty:!t.listData.length},attrs:{finished:t.isFinished,"finished-text":"没有更多数据了"},on:{load:t.onLoad},model:{value:t.isLoad,callback:function(s){t.isLoad=s},expression:"isLoad"}},t._l(t.listData,(function(s){return i("van-cell",{key:s.task_id,staticClass:"TaskItem",attrs:{border:!1,to:"/taskShow/"+s.task_id},scopedSlots:t._u([{key:"title",fn:function(){return[i("div",[i("span",[t._v("需求方:"+t._s(s.username))]),i("i",[t._v(t._s(s.status_dec))])]),i("div",[i("span",[t._v("剩余:"),i("b",[t._v(t._s(s.surplus_number))])]),i("span",[i("em",[t._v(t._s(Number(s.reward_price)))]),t._v("元")])]),i("div",[i("span",[t._v("要求:"+t._s(s.group_info))]),i("span",[i("van-button",{attrs:{color:"#dd6161",size:"mini",disabled:0!=s.is_l},on:{click:function(i){return i.stopPropagation(),t.receiveTask(s.task_id)}}},[t._v("领取")])],1)])]},proxy:!0}],null,!0)},[i("div",{staticClass:"icon",attrs:{slot:"icon"},slot:"icon"},[i("h4",[t._v(t._s(s.group_name))]),i("a",{attrs:{href:"javascript:;"},on:{click:function(i){return i.stopPropagation(),t.$Util.OpenUrl(s.link_info)}}},[i("img",{attrs:{src:s.icon}})]),i("van-tag",{attrs:{color:"#dd6161"}},[t._v(t._s(s.vip_dec))])],1)])})),1)],1)],1)],1)},e=[],o={name:"TaskList",components:{},props:["taskType","taskGrade"],data(){return{listData:"",isLoad:!1,isFinished:!1,isRefresh:!1,pageNo:1}},computed:{},watch:{},created(){this.getListData("init")},mounted(){},activated(){},destroyed(){},methods:{onLoad(){this.getListData("load")},getListData(t){this.isLoad=!0,this.isRefresh=!1,"load"==t?this.pageNo+=1:(this.pageNo=1,this.isFinished=!1),this.$Model.GetTaskList({group_id:this.taskType,task_level:this.taskGrade,page_no:this.pageNo,is_u:0},s=>{this.isLoad=!1,1==s.code?(this.listData="load"==t?this.listData.concat(s.info):s.info,this.pageNo==s.data_total_page?this.isFinished=!0:this.isFinished=!1):(this.listData="",this.isFinished=!0)})},onRefresh(){this.getListData("init")},receiveTask(t){localStorage["Token"]?this.$Model.ReceiveTask(t,t=>{1==t.code&&this.getListData("init")}):this.$router.push("/login")}}},n=o,r=(i("8ad2"),i("2877")),d=Object(r["a"])(n,a,e,!1,null,"8c1f5b54",null);s["default"]=d.exports},"958f":function(t,s,i){}}]);
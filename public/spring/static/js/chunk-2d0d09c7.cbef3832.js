/* 橘子科技旗下 A4源码  https://an4.net 搭建二开联系 QQ 3479863005  纸飞机联系 @orangetech */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d09c7"],{"695c":function(i,t,s){"use strict";s.r(t);var e=function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"Main Background"},[s("van-nav-bar",{staticClass:"NavBar",attrs:{title:"聊天设置",border:!1},on:{"click-left":i.onClickBack,"click-right":function(t){i.showMenu=!0}}},[s("img",{staticClass:"icon-left",attrs:{slot:"left",src:"./static/miliao/icon/icon-back.svg"},slot:"left"})]),s("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[s("div",{staticClass:"Scroll-Con"},[s("div",{staticClass:"Box UserCenter"},[s("van-cell",{staticClass:"Info",attrs:{border:!1,size:"large","is-link":"",to:{name:"friendInfo",query:{id:i.friendId}}}},[s("div",{staticClass:"head-img",attrs:{slot:"icon"},slot:"icon"},[i.chatInfo.header?s("img",{attrs:{src:"./static/miliao/images/headimg/"+i.chatInfo.header,width:"100%"}}):s("b",[i._v(i._s(i.chatInfo.memo_name?i.chatInfo.memo_name.slice(0,2):i.chatInfo.nickname.slice(0,2)))])]),s("template",{slot:"title"},[s("span",[i._v(i._s(i.chatInfo.memo_name?i.chatInfo.memo_name:i.chatInfo.nickname))]),s("div",{staticClass:"van-cell__label"},[i._v(" 密聊号："+i._s(i.chatInfo.mid)+" ")])])],2),s("van-cell-group",{staticClass:"mt20"},[s("van-switch-cell",{attrs:{title:"消息免打扰",size:"26px","active-color":"#44db5e"},on:{change:i.onChangeSwitch},model:{value:i.isVoice,callback:function(t){i.isVoice=t},expression:"isVoice"}}),s("van-switch-cell",{attrs:{title:"置顶聊天",size:"26px","active-color":"#44db5e"},on:{change:i.onChangeSwitch},model:{value:i.isTop,callback:function(t){i.isTop=t},expression:"isTop"}})],1),s("van-cell-group",{staticClass:"mt20"},[s("van-cell",{attrs:{title:"清空聊天记录",size:"large","is-link":""},on:{click:i.clearChat}})],1)],1)])])],1)},a=[],n={name:"ChatInfo",components:{},props:{},data(){return{chatInfo:{nickname:""},friendId:Number(this.$route.query.id),isVoice:!1,isTop:!1}},computed:{},watch:{},created(){this.$MiModel.GetFriendsInfo(this.friendId,i=>{this.chatInfo=i.info,this.isVoice=!!i.info.is_v_d,this.isTop=!!i.info.is_z_d})},mounted(){this.$MiInitial.InitScrollWrap(this.$el),this.ScrollWrap=new this.$MiBScroll(this.$refs.Scroll,{click:!0})},activated(){},destroyed(){},methods:{onClickBack(){this.$router.go(-1),this.$route.params.isBack=!0},onChangeSwitch(){this.$MiModel.SetFriendsInfo({is_v_d:this.isVoice?1:0,is_z_d:this.isTop?1:0,id:this.friendId},i=>{i||(this.isVoice=!!this.FriendInfo.is_v_d,this.isTop=!!this.FriendInfo.is_z_d)})},clearChat(){this.$MiDialog.Confirm("确定清空聊天记录？",()=>{this.$MiModel.SetFriendsInfo({state:9,id:this.friendId})})}}},o=n,c=s("2877"),l=Object(c["a"])(o,e,a,!1,null,null,null);t["default"]=l.exports}}]);